<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <script src="./js/data.js" type="module"></script>
    <script src="js/jQuery.js" type="text/javascript" charset="utf-8"></script>
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <link rel="stylesheet" type="text/css" href="css/app.css"/>
  
  
</head>
<body>
	<div id="app">
		<el-row :gutter="20">
			<!-- <el-col :span="10"></el-col> -->
			<el-col :span="5" :offset="12">
				<el-form :model="numberValidateForm" ref="numberValidateForm" label-width="100px" class="demo-ruleForm">
				  <el-form-item				    
				    prop="id" >
				    <el-input type="id" v-model.number="numberValidateForm.id" oninput="value=value.replace(/[^\d]/g,'')" placeholder="请输入编号" id="id" autocomplete="off" ></el-input>					
				  </el-form-item>
				</el-form>
				</el-col>				
			<el-col :span="2"><el-button type="primary" icon="el-icon-search" @click.native.prevent="getDataById(),resetFormn('numberValidateForm')">搜索</el-button></el-col>
			<el-col :span="2"><el-button type="primary" icon="el-icon-plus" @click="dialogFormVisible = true,resetForm('form')">添加</el-button></el-col>
			<el-col :span="2"><el-button type="primary" icon="el-icon-refresh" @click="regetData()">刷新</el-button></el-col>
		</el-row>	
		<br>				
		<el-dialog title="添加人员" :visible.sync="dialogFormVisible">
			<el-form :model="form" ref="form">
				<el-form-item
					label="编号"
					prop="id"
					:rules="[
						{ required: true, message: '编号不能为空'},
						{ type: 'number', message: '编号必须为数字值'}
					]">
				<el-input type="id" v-model.number="form.id" autocomplete="off"></el-input>
				</el-form-item>
				<el-form-item
					label="姓名"
					prop="name"
					:rules="[
						{ required: true, message: '年龄不能为空'}
					]">
					<el-input type="name" v-model.number="form.name" autocomplete="off"></el-input>
					</el-form-item>
				<el-form-item
					label="年龄"
					prop="age"
					:rules="[
						{ required: true, message: '年龄不能为空'},
						{ type: 'number', message: '年龄必须为数字值'}
					]">
				<el-input type="age" v-model.number="form.age" autocomplete="off"></el-input>
				</el-form-item>
				<el-form-item
					label="职位"
					prop="des"
					:rules="[
						{ required: true, message: '职位不能为空'}
					]">
					<el-input type="des" v-model.number="form.des" autocomplete="off"></el-input>
					</el-form-item>
			</el-form>
			<div slot="footer" class="dialog-footer">
				<el-button type="primary" @click="dialogFormVisible = false,addData()">确 定</el-button>
				<el-button @click="resetForm('form')">重 置</el-button>
				<el-button @click="dialogFormVisible = false">取 消</el-button>
			</div>
		</el-dialog>
	  <template>
	    <el-table :data="tableData" border style="width: 98%">
	      <el-table-column prop="id" label="编号" min-width ></el-table-column>
	      <el-table-column prop="username" label="姓名" min-width ></el-table-column>
	      <el-table-column prop="age" label="年龄" min-width ></el-table-column>
		  <el-table-column prop="des" label="职位" min-width ></el-table-column>
	      <el-table-column label="操作" min-width >
	        <template slot-scope="scope">
	          <el-button size="small" class="el-icon-delete" type="danger" @click.native.prevent="deleteData(scope.row.id)">删除</el-button>
	          <el-button size="small" class="el-icon-edit" @click.native.prevent="dialogFormVisiblec = true,changeForm(scope.row)">修改</el-button>
	        </template>
	      </el-table-column>
	    </el-table>
	  </template>	  
	  <el-dialog title="修改信息" :visible.sync="dialogFormVisiblec">
	  			<el-form :model="formc" ref="formc">
	  				<el-form-item
	  					label="编号"
	  					prop="id"
	  					:rules="[
	  						{ required: true, message: '编号不能为空'},
	  						{ type: 'number', message: '编号必须为数字值'}
	  					]">
	  				<el-input type="id" v-model.number="formc.id" autocomplete="off"></el-input>
	  				</el-form-item>
	  				<el-form-item
	  					label="姓名"
	  					prop="username"
	  					:rules="[
	  						{ required: true, message: '年龄不能为空'}
	  					]">
	  					<el-input type="username" v-model.number="formc.username" autocomplete="off"></el-input>
	  					</el-form-item>
	  				<el-form-item
	  					label="年龄"
	  					prop="age"
	  					:rules="[
	  						{ required: true, message: '年龄不能为空'},
	  						{ type: 'number', message: '年龄必须为数字值'}
	  					]">
	  				<el-input type="age" v-model.number="formc.age" autocomplete="off"></el-input>
	  				</el-form-item>
	  				<el-form-item
	  					label="职位"
	  					prop="des"
	  					:rules="[
	  						{ required: true, message: '职位不能为空'}
	  					]">
	  					<el-input type="des" v-model.number="formc.des" autocomplete="off"></el-input>
	  					</el-form-item>
	  			</el-form>
	  			<div slot="footer" class="dialog-footer">
	  				<el-button type="primary" @click="dialogFormVisiblec = false,changeData()">确 定</el-button>
	  				<el-button @click="resetFormc('formc')">重 置</el-button>
	  				<el-button @click="dialogFormVisiblec = false">取 消</el-button>
	  		  </div>
	  		</el-dialog>
	  
  </div>
</body>

  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script  type="application/javascript" src="https://unpkg.com/element-ui/lib/index.js"></script>
 <script src="https://unpkg.com/axios/dist/axios.min.js"></script>




</html>